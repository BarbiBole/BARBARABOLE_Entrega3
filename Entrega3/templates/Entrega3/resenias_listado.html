{% extends 'base.html' %}
{% block contenido %}
<div class="container mt-4">
    <h2>Listado de reseñas</h2>

    <!-- Buscador -->
    <form method="get" class="d-flex mb-4">
        <input type="text" name="buscar" class="form-control me-2" placeholder="Buscar por título" value="{{ query }}">
        <button type="submit" class="btn btn-outline-primary">Buscar</button>
    </form>

    <h3 class="mt-4">Libros</h3>
    {% for libro in libros %}
        <div class="border p-3 mb-2">
            <strong>{{ libro.titulo }}</strong><br>
            <small>Publicado el {{ libro.fecha_publicacion|date:"d/m/Y" }}</small>            
            <div>
                <a href="{% url 'Entrega3:detalle_libro' libro.id %}" class="btn btn-sm btn-info">Ver más</a>
                <a href="{% url 'Entrega3:editar_libro' libro.id %}" class="btn btn-sm btn-primary">Editar</a>
                <a href="{% url 'Entrega3:eliminar_libro' libro.id %}" class="btn btn-sm btn-danger">Borrar</a>
            </div>
        </div>
    {% empty %}
        <p>No se encontraron libros.</p>
    {% endfor %}

    <h3 class="mt-4">Películas</h3>
    {% for peli in peliculas %}
        <div class="border p-3 mb-2">
            <strong>{{ peli.titulo }}</strong><br>
            <small>Estrenada el {{ peli.fecha_estreno|date:"d/m/Y" }}</small>            
            <div>
                <a href="{% url 'Entrega3:detalle_pelicula' peli.id %}" class="btn btn-sm btn-info">Ver más</a>
                <a href="{% url 'Entrega3:editar_pelicula' peli.id %}" class="btn btn-sm btn-primary">Editar</a>
                <a href="{% url 'Entrega3:eliminar_pelicula' peli.id %}" class="btn btn-sm btn-danger">Borrar</a>
            </div>
        </div>
    {% empty %}
        <p>No se encontraron películas.</p>
    {% endfor %}

    <h3 class="mt-4">Conciertos</h3>
    {% for concierto in conciertos %}
        <div class="border p-3 mb-2">
            <strong>{{ concierto.banda }}</strong><br>
            <small>Concierto el {{ concierto.fecha_evento|date:"d/m/Y" }}</small>            
            <div>
                <a href="{% url 'Entrega3:detalle_concierto' concierto.id %}" class="btn btn-sm btn-info">Ver más</a>
                <a href="{% url 'Entrega3:editar_concierto' concierto.id %}" class="btn btn-sm btn-primary">Editar</a>
                <a href="{% url 'Entrega3:eliminar_concierto' concierto.id %}" class="btn btn-sm btn-danger">Borrar</a>
            </div>
        </div>
    {% empty %}
        <p>No se encontraron conciertos.</p>
    {% endfor %}
</div>
{% endblock %}


